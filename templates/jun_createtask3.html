<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <h1> Match the Cards!</h1>
<link rel="stylsheet" href="style.css">
    <div class="grid">
    </div>

    <script>
        const backs = [
            {
                name: 'Cloud and Mist',
                img: '/static/TeaPictures/cloudandmist.jpg'
            },
            {
                name: 'Formosa Red 20',
                img: '/static/TeaPictures/formosared20.jpg'
            },
            {
                name: 'Green Tea',
                img: '/static/TeaPictures/green_tea.png'
            },
            {
                name: 'Native Cultiva Reserve',
                img: '/static/TeaPictures/nativecultivarreserve.jpg'
            },
            {
                name: 'Xin Gong Yi',
                img: '/static/TeaPictures/xingongyi.jpg'
        }
        ]
        backs.sort(() => 0.5 - Math.random())
        const grid = document.querySelector('.grid');
        var chosenCard = []
        var chosenCardID = []
        function cards() {
            for (let i = 0; i < backs.length * 2; i++) {
                var card = document.createElement('img');
                card.setAttribute('src', "https://opengameart.org/sites/default/files/card%20back%20black.png");
                card.setAttribute('card_id', i);
                {#card.addEventListener('click', flipCard());#}
                grid.appendChild(card);
            }
        }

        function flipCard() {
            var cardID = this.getAttribute('card_id')
            chosenCard.push(backs[cardID].name)
            chosenCardID.push(cardID)
            this.setAttribute('src', backs[cardID].img)
            if (chosenCard.length === 2) {
                match(500)
            }
            {#document.getElementById('key').className = 'flip';#}
            {#document.getElementById('key').src = "/static/TeaPictures/green_tea.png"#}
        }

        function match() {
            var cards = document.querySelectorAll('img')
            const FirstID = chosenCardID[0]
            const SecondID = chosenCardID[1]
            if (chosenCardID[0] === chosenCardID[1]) {
                cards[FirstID].setAttribute('src', 'https://www.kindpng.com/picc/m/0-8047_youtube-thumbs-up-png-transparent-png.png')
                cards[SecondID].setAttribute('src', 'https://www.kindpng.com/picc/m/0-8047_youtube-thumbs-up-png-transparent-png.png')
            }

        else {
                cards[FirstID].setAttribute('src', 'https://opengameart.org/sites/default/files/card%20back%20black.png')
                cards[SecondID].setAttribute('src', 'https://opengameart.org/sites/default/files/card%20back%20black.png')
            }
                chosenCard = []
                chosenCardID = []
        }

        cards();

        </script>
{#        <body onload="loadpics('key', 10)">#}

        <style>
            .grid {
                display: flex;
                flex-wrap: wrap;
                height: 800px;
                width: 100%;
                border: 1px solid black;
            }
            .grid img {
                width: 350px;
                height: 400px;
            }
            h1 {
                font-family: monospace;
                text-align: center;
                font-size: 40px;
            }
            images {
                width: 328px;
                height: 400px;
                display: inline-grid;
                margin: 0 auto;
            }
            th,td{
                border:0;
            }
            .flip {
                -webkit-animation-name: flipped;
                -webkit-animation-duration: .2s;
            {#-webkit-animation-iteration-count: 1;#}
                -webkit-animation-timing-function: linear;
                -webkit-animation-fill-mode: forwards;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
            }

            @-webkit-keyframes flipped {
                from {
                    transform: rotateY(180deg);

                }
            }
        </style>
</head>
<body>

</body>
